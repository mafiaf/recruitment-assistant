{% extends "_base.html" %}
{% set page_title = "My profile" %}
{% set active = "/profile" %}

{% block body %}
<div class="mx-auto card" style="max-width:400px; margin-top:24px;">
<h2>My profile</h2>

<p><strong>Username:</strong> {{ user.username }}</p>
<p><strong>Role:</strong> {{ user.role }}</p>

<h3 class="mt-8 mb-2">Change password</h3>
<form action="/profile/password" method="post" class="space-y-2">
  <label class="block">Current password
    <input name="old" type="password" class="w-full" required>
  </label>
  <label class="block">New password
    <input name="new" type="password" class="w-full" required>
  </label>
  <button class="btn w-full" style="margin-top:16px;">Update</button>
</form>
{% if request.query_params.get('ok') %}
<p class="text-green-600 mt-2">âœ… Password updated</p>
{% endif %}
</div>
{% endblock %}
